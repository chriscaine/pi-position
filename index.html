<!doctype html>
<html>
  <head>
	<title>Socket.IO Position</title>
	<meta name="viewport" value="width=device-width;initial-scale=1" />
  </head>
  <body>
	<h1>Where am I?</h1>
	

      <svg width="400" height="200">
          <line x1="15" x2="15" y1="0" y2="200" stroke="black" stroke-width="2" />
          <line x1="10" x2="15" y1="0" y2="0" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="20" y2="20" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="40" y2="40" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="60" y2="60" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="80" y2="80" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="100" y2="100" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="120" y2="120" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="140" y2="140" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="160" y2="160" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="180" y2="180" stroke="black" stroke-width="1" />
          <line x1="10" x2="15" y1="200" y2="200" stroke="black" stroke-width="1" />
          <line x1="15" x2="385" y1="200" y2="200" stroke="black" stroke-width="2" />
          <rect id="temp" x="20" y="200" height="0" width="3" fill="#ff0000"/>

          <line id="yaw" x1="50" x2="350" stroke="black"></line>

      </svg>

	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
       <script src="http://192.168.1.11/socket.io/socket.io.js"></script>
        <script>
            var temp = window.document.getElementById("temp");
            var yaw = document.getElementById("yaw");
          

          

	   var socket = io.connect('http://192.168.1.11');
	   socket.on('data', function(data) {
	       var val = data.fusionPose.x;
	       
	       var x1 = Math.cos(val) * 100;
	       var y1 = Math.sin(val) * 100;

	       var x2 = Math.cos(Math.PI + val) * 100;
	       var y2 = Math.sin(Math.PI + val) * 100;
           
	       var size = 100;
	       yaw.setAttribute('x1', x1 + (size * 2));
	       yaw.setAttribute('y1', y1 + size);
	       
	       yaw.setAttribute('x2', x2 + (size * 2));
	       yaw.setAttribute('y2', y2 + size);

	    });
	  
	 
	
        </script> 
  </body>
</html>